<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/jquery-3.5.1.min.js"></script>
</head>
<body>
<a href="create.html">+ Thêm mới sản phẩm</a>
<br><br>
<table border="1" cellspacing="0" cellpadding="8">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th></th>
    </tr>
    <tbody>


    </tbody>
</table>


<script>
    $(document).ready(function (){
        //Sử dụng ajax của JQuery để gọi API
        //ngoài ra XHTML Request, hoặc FETCH API của Javascript thuần .
        var obj_ajax = {
            url: 'http://localhost:8080/PHPxampp/Day24_API/backend/api.php',
            method: 'GET',
            data: {},
            success: function (data) {
                // Chuyển kiểu dữ liệu JSON về kiểu dữ liệu mà Javascript có thể hiểu đc
                // data = $.parseJSON(data);
                // console.log(data);
                $.each(data, function (key, product) {
                    // console.log(key);
                    console.log(product);
                    var tr_content = '<tr>\n' +
                        '                <td class="td-id">'+ product.id + '</td>\n' +
                        '                <td class="td-name">' + product.name + '</td>\n' +
                        '                <td class="td-price">'+ product.price +'</td>\n' +
                        '                <td>\n' +
                        '                    <a href="update.html">Sửa</a>\n' +
                        '                    <a href="#" id="delete-ajax" onclick="return confirm(\'Bạn muốn xóa?\')">Xóa</a>\n' +
                        '                </td>\n' +
                        '            </tr>';
                    $('tbody').append(tr_content)
                })
            }
        };
        $.ajax(obj_ajax);
    })

</script>
</body>
</html>